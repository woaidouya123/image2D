<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="shortcut icon" href="./src/assets/image2D.png">
    <title>前端绘图 | image2D</title>
    <script>
        function doScroll() {
            var toTop = document.documentElement.scrollTop || document.body.scrollTop;

            // 控制标题头
            var header = document.getElementsByTagName('header')[0];
            if (toTop <= 130)
                header.style.backgroundColor = 'rgba(255, 255, 255, 0.4)';
            else
                header.style.backgroundColor = 'rgba(255, 255, 255, 1.0)';

            // 控制api菜单
            var apiNav = document.getElementById('api-nav');
            if (apiNav) {
                if (toTop > 70)
                    apiNav.style.top = (toTop - 70) + 'px';
                else
                    apiNav.style.top = '0px';

                var navHelper = window.image2d_docs_api_navHelper, i, j;

                // 先寻找二级菜单
                for (i = 0; i < navHelper.small.length; i++) {
                    if (navHelper.small[i].top > toTop + 45) {
                        break;
                    }
                }
                if (i == 0) i = 1;
                var smallNavs = document.getElementsByName(navHelper.type);
                for (j = 1; j <= smallNavs.length; j++) {
                    if (j == i) {
                        smallNavs[j - 1].setAttribute('active', 'yes');
                    } else {
                        smallNavs[j - 1].setAttribute('active', 'no');
                    }
                }
            }
        }

        // 到顶部
        function toTop() {
            document.documentElement.scrollTop = 0;
        }

        function doClick(event) {
            event = event || window.event;
            var target = event.target;

            // 如果点击了api页面的二级菜单
            if (target.getAttribute('flag') == 'api-item') {
                window.location.href = target.getAttribute('url');
                window.setTimeout(function () {
                    target.setAttribute('active', 'yes');
                    document.documentElement.scrollTop = window.image2d_docs_api_navHelper.small[target.getAttribute('index')].top;
                }, 200);
            }
        }
    </script>
</head>

<body onscroll='doScroll()' onclick="doClick()">
    <header>
        <h2>image2D</h2>
        <ul>
            <li id='guide' class='topmenu-item' onclick='window.location.href="#/guide/"'>指南</li>
            <li id='api' class='topmenu-item' onclick='window.location.href="#/api/"'>文档</li>
            <li id='source' class='topmenu-item' onclick='window.location.href="#/source/"'>资源</li>
            <li id='about' class='topmenu-item' onclick='window.location.href="#/about/"'>关于</li>
        </ul>
        <a href="https://github.com/yelloxing/image2D" class="github" target="_blank">
            Fork me on Github
        </a>
    </header>
    <div id='root'></div>
    <footer>
        <ul>
            <li>
                <a href="#/guide/">指南</a>
            </li>
            <li>
                <a href="#/api/">文档</a>
            </li>
            <li>
                <a href="#/source/">资源</a>
            </li>
            <li>
                <a href="#/about/">关于</a>
            </li>
        </ul>
        Copyright © 2007 - 2019
        <em>走一步 再走一步</em>
        <a href="javascriot:void(0)" onclick='toTop()'>回到顶部</a>
    </footer>
    <script src="./dist/main.js"></script>
</body>

<!--

    我还惊讶地意识到， 在我生命中有很多时刻， 每当我遇到一个遥不可及、令人害怕的情境，
    并感到惊慌失措时， 我都能够应付——因为我回想起了很久以前自己上过的那一课。
    我提醒自己不要看下面遥远的岩石， 而是注意相对轻松、容易的第一小步， 迈出一小步、再一小步，
    就这样体会每一步带来的成就感， 直到完成了自己想要完成的， 达到了自己的目标，
    然后再回头看时， 不禁对自己走过的这段漫漫长路感到惊讶和自豪。

                                            ———— 摘自 莫顿·亨特《走一步，再走一步》

-->

</html>
